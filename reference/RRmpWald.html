<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Estimates confidence intervals for the risk ratio or prevented
fraction from matched pairs."><title>Wald confidence intervals for RR from matched pairs — RRmpWald • PF</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Wald confidence intervals for RR from matched pairs — RRmpWald"><meta property="og:description" content="Estimates confidence intervals for the risk ratio or prevented
fraction from matched pairs."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">PF</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">9.6.8</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/PFvignette.html">PF Vignette</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Wald confidence intervals for RR from matched pairs</h1>
      
      <div class="d-none name"><code>RRmpWald.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Estimates confidence intervals for the risk ratio or prevented
fraction from matched pairs.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">RRmpWald</span><span class="op">(</span></span>
<span>  formula <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  compare <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"vac"</span>, <span class="st">"con"</span><span class="op">)</span>,</span>
<span>  affected <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">x</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  pf <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  tdist <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  df <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rnd <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>formula</dt>
<dd><p>Formula of the form <code>y ~ x + cluster(w)</code>, where <code>y</code> is the
indicator for an individual's positive response, <code>x</code> is a factor with two
levels of treatment, and <code>w</code> identifies the pairs.</p></dd>


<dt>data</dt>
<dd><p><code>data.frame</code> containing variables in formula</p></dd>


<dt>compare</dt>
<dd><p>Text vector stating the factor levels: <code>compare[1]</code> is the
vaccinate group to which <code>compare[2]</code> (control or reference) is compared.</p></dd>


<dt>affected</dt>
<dd><p>Indicator for positive response</p></dd>


<dt>x</dt>
<dd><p>Alternative data input. Instead of formula and data frame, data may
be input as frequency vector. See example for how to order this vector.</p></dd>


<dt>alpha</dt>
<dd><p>Complement of the confidence level</p></dd>


<dt>pf</dt>
<dd><p>Estimate <em>RR</em> or its complement <em>PF</em>?</p></dd>


<dt>tdist</dt>
<dd><p>Use t distribution?</p></dd>


<dt>df</dt>
<dd><p>Degrees of freedom. When NULL, the function will default to `df = N</p><ul><li><p>2`, where N is the total number of pairs.</p></li>
</ul></dd>


<dt>rnd</dt>
<dd><p>Number of digits for rounding. Affects display only, not
estimates.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <a href="rrmp.html">rrmp</a> object with the following fields:</p><ul><li><p><code>estimate</code>: vector of point and interval estimates - see details</p></li>
<li><p><code>estimator</code>: either <code>"PF"</code> or <code>"RR"</code></p></li>
<li><p><code>compare</code>: text vector, same as input</p></li>
<li><p><code>alpha</code>: complement of confidence level</p></li>
<li><p><code>rnd</code>: how many digits to round the display</p></li>
<li><p><code>multvec</code>: data frame showing the multinomial representation of the data</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Estimates confidence intervals for the risk ratio or prevented
fraction from matched pairs. The response is the tetranomial vector <code>c(11, 12, 21, 22)</code>, where the first index is the row and the the second index is
the column when displayed as a 2x2 table. Wald type confidence intervals
are found by applying the delta method to the multinomial variance. This
method fails when there are no responders in one of the treatment groups.</p>
<p>Alternative forms of data entry are illustrated by the output, say <code>Y</code>,
where <code>c(Y$xtable) = Y$freqvec = Y$multvec$Freq</code>.</p>
<p>If <code>RR = 0</code> (<code>PF = 1</code>), the function will return degenerate interval.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Experimental functions for estimating profile likelihood intervals are
in the CVBmisc package.</p>
<p>Call to this function may be one of two formats: (1) specify <code>data</code> and
<code>formula</code> or (2) as a vector <code>x</code></p>
<p><code>RRmpWald(formula, data, compare = c("vac", "con"), affected = 1, alpha = 0.05, pf = TRUE, tdist = TRUE, df = NULL, rnd = 3)</code></p>
<p><code>RRmpWald(x, compare = c("vac", "con"), affected = 1, alpha = 0, 05, pf = TRUE, tdist = TRUE, df = NULL, rnd = 3)</code></p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p><a href="PF-package.html">PF-package</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">RRmpWald</span><span class="op">(</span><span class="va">pos</span> <span class="op">~</span> <span class="va">tx</span> <span class="op">+</span> <span class="fu">cluster</span><span class="op">(</span><span class="va">cage</span><span class="op">)</span>, <span class="va">New</span>, compare <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"vac"</span>, <span class="st">"con"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PF </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 95% interval estimates</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    PF    LL    UL </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.550 0.183 0.752 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># PF</span></span></span>
<span class="r-in"><span><span class="co"># 95% interval estimates</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co">#    PF    LL    UL</span></span></span>
<span class="r-in"><span><span class="co"># 0.550 0.183 0.752</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: magrittr</span>
<span class="r-in"><span><span class="va">thistable</span> <span class="op">&lt;-</span> <span class="va">New</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/spread.html" class="external-link">spread</a></span><span class="op">(</span><span class="va">tx</span>, <span class="va">pos</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>vac <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">vac</span>, levels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    con <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">con</span>, levels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">vac</span>, <span class="va">con</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">thistable</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    con</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> vac  1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1  7  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0 13  4</span>
<span class="r-in"><span><span class="co">#    con</span></span></span>
<span class="r-in"><span><span class="co"># vac  1  0</span></span></span>
<span class="r-in"><span><span class="co">#   1  7  2</span></span></span>
<span class="r-in"><span><span class="co">#   0 13  4</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">thistable</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  7 13  2  4</span>
<span class="r-in"><span><span class="co"># [1]  7 13  2  4</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">RRmpWald</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">thistable</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PF </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 95% interval estimates</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    PF    LL    UL </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.550 0.183 0.752 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># PF</span></span></span>
<span class="r-in"><span><span class="co"># 95% interval estimates</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co">#    PF    LL    UL</span></span></span>
<span class="r-in"><span><span class="co"># 0.550 0.183 0.752</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by CVB Statistics, David Siev, Marie Vendettuoli, Thomas Kent.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

